{"remainingRequest":"/home/Trabalho-Individual-2020-1/client/node_modules/babel-loader/lib/index.js!/home/Trabalho-Individual-2020-1/client/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/Trabalho-Individual-2020-1/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/Trabalho-Individual-2020-1/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/Trabalho-Individual-2020-1/client/src/components/DialogForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/Trabalho-Individual-2020-1/client/src/components/DialogForm.vue","mtime":1607820581600},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/cache-loader/dist/cjs.js","mtime":1606776316386},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/babel-loader/lib/index.js","mtime":1606776316365},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/vuetify-loader/lib/loader.js","mtime":1606776328537},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/cache-loader/dist/cjs.js","mtime":1606776316386},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/vue-loader/lib/index.js","mtime":1606776323398}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL1RyYWJhbGhvLUluZGl2aWR1YWwtMjAyMC0xL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBGYWN0b3J5IGZyb20gJ0AvYXBpL2ZhY3RvcnknOwp2YXIgUHJvZmlsZUFQSSA9IEZhY3RvcnkuZ2V0QXBpKCdwcm9maWxlcycpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0RpYWxvZ0Zvcm0nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYW1lOiAnJywKICAgICAgdXJsOiAnJywKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBwcm9wczogewogICAgcmVmcmVzaDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBwcm9maWxlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGVkaXRQcm9maWxlOiBmdW5jdGlvbiBlZGl0UHJvZmlsZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHByb2ZpbGVEYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHByb2ZpbGVEYXRhID0gewogICAgICAgICAgICAgICAgICBuYW1lOiAhX3RoaXMucmVmcmVzaCA/IF90aGlzLm5hbWUgOiBfdGhpcy5wcm9maWxlLm5hbWUsCiAgICAgICAgICAgICAgICAgIHVybDogIV90aGlzLnJlZnJlc2ggPyBfdGhpcy51cmwgOiBfdGhpcy5wcm9maWxlLnVybAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIFByb2ZpbGVBUEkudXBkYXRlUHJvZmlsZShfdGhpcy5wcm9maWxlLmlkLCBwcm9maWxlRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm5hbWUgPSByZXMuZGF0YS5uYW1lOwogICAgICAgICAgICAgICAgICBfdGhpcy51cmwgPSByZXMuZGF0YS51cmw7CiAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkUHJvZmlsZSA9IHJlcy5kYXRhOyAvLyBwYXNzIHVwZGF0ZWQgcHJvZmlsZSBpbmZvIHRvIHBhcmVudAoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3VwZGF0ZWRFdmVudCcsIHVwZGF0ZWRQcm9maWxlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgX3RoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKGVycik7CgogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmVkaXRQcm9maWxlKCk7CiAgICB9LAogICAgc2hvd01vZGFsOiBmdW5jdGlvbiBzaG93TW9kYWwoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5uYW1lID0gdGhpcy5wcm9maWxlLm5hbWU7CiAgICB0aGlzLnVybCA9IHRoaXMucHJvZmlsZS51cmw7CiAgfQp9Ow=="},{"version":3,"sources":["DialogForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA,OAAA,OAAA,MAAA,eAAA;AAEA,IAAA,UAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,GAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,KAHA;AAIA,MAAA,OAAA,EAAA,KAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAaA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,KAAA;AAAA;AAFA,KADA;AAKA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GAbA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,WADA,GACA;AACA,kBAAA,IAAA,EAAA,CAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,IAAA,GAAA,KAAA,CAAA,OAAA,CAAA,IADA;AAEA,kBAAA,GAAA,EAAA,CAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,GAAA,GAAA,KAAA,CAAA,OAAA,CAAA;AAFA,iBADA;AAAA;AAAA,uBAMA,UAAA,CAAA,aAAA,CAAA,KAAA,CAAA,OAAA,CAAA,EAAA,EAAA,WAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,kBAAA,KAAA,CAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AAEA,sBAAA,cAAA,GAAA,GAAA,CAAA,IAAA,CAJA,CAKA;;AACA,kBAAA,KAAA,CAAA,KAAA,CAAA,cAAA,EAAA,cAAA;;AACA,kBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,kBAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA,iBAVA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAAA;;AACA,kBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,iBAdA,CANA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA,KAtBA;AAwBA,IAAA,MAxBA,oBAwBA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,WAAA;AACA,KA3BA;AA6BA,IAAA,SA7BA,uBA6BA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KA/BA;AAiCA,IAAA,UAjCA,wBAiCA;AACA,WAAA,MAAA,GAAA,KAAA;AACA;AAnCA,GAxBA;AA8DA,EAAA,WA9DA,yBA8DA;AACA,SAAA,IAAA,GAAA,KAAA,OAAA,CAAA,IAAA;AACA,SAAA,GAAA,GAAA,KAAA,OAAA,CAAA,GAAA;AACA;AAjEA,CAAA","sourcesContent":["<template>\n  <div>\n    <v-btn\n      v-if=\"refresh\"\n      id=\"dialog-form-refresh\"\n      icon\n      dense\n      color=\"blue-grey\"\n      :loading=\"loading\"\n      @click=\"update\"\n    >\n      <v-icon small>fas fa-sync</v-icon>\n    </v-btn>\n\n    <v-btn\n      v-else\n      id=\"dialog-form-open\"\n      icon\n      dense\n      color=\"blue-grey\"\n      @click.stop=\"showModal\"\n    >\n      <v-icon small>fas fa-edit</v-icon>\n    </v-btn>\n\n    <v-dialog v-model=\"dialog\" max-width=\"600px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">\n            Edit profile\n          </span>\n        </v-card-title>\n\n        <v-card-text>\n          <v-container>\n            <div\n              v-if=\"errors.length > 0\"\n            >\n              <v-alert\n                v-for=\"err in errors\"\n                :key=\"err.id\"\n                dense\n                dismissible\n                type=\"error\"\n              >\n                {{ err }}\n              </v-alert>\n            </div>\n\n            <v-form\n              lazy-validation\n              @submit=\"update\"\n            >\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-text-field\n                    dense\n                    outlined\n                    required\n                    label=\"Name\"\n                    hint=\"Leave unchanged to keep the previous value\"\n                    :placeholder=\"name\"\n                    v-model=\"name\"\n                  />\n                </v-col>\n                <v-col cols=\"12\">\n                  <v-text-field\n                    dense\n                    outlined\n                    required\n                    label=\"Github URL\"\n                    hint=\"Leave unchanged to keep the previous value\"\n                    :placeholder=\"url\"\n                    v-model=\"url\"\n                  />\n                </v-col>\n              </v-row>\n            </v-form>\n\n          </v-container>\n        </v-card-text>\n        <v-card-actions class=\"pb-6 px-6\">\n          <v-spacer></v-spacer>\n          <v-btn\n            id=\"dialog-form-close\"\n            text\n            color=\"blue-grey\"\n            @click=\"closeModal\"\n          >\n            Close\n          </v-btn>\n          <v-btn\n            id=\"dialog-form-update\"\n            depressed\n            dark\n            color=\"blue-grey\"\n            :loading=\"loading\"\n            @click=\"update\"\n          >\n            <v-icon small left>fas fa-save</v-icon> Save\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport Factory from '@/api/factory'\n\nconst ProfileAPI = Factory.getApi('profiles')\n\nexport default {\n  name: 'DialogForm',\n\n  data () {\n    return {\n      name: '',\n      url: '',\n      dialog: false,\n      loading: false,\n      errors: []\n    }\n  },\n\n  props: {\n    refresh: {\n      type: Boolean,\n      default: () => false\n    },\n    profile: {\n      type: Object,\n      required: true\n    }\n  },\n\n  methods: {\n    async editProfile () {\n      const profileData = {\n        name: !this.refresh ? this.name : this.profile.name,\n        url: !this.refresh ? this.url : this.profile.url\n      }\n\n      await ProfileAPI.updateProfile(this.profile.id, profileData)\n        .then((res) => {\n          this.name = res.data.name\n          this.url = res.data.url\n\n          const updatedProfile = res.data\n          // pass updated profile info to parent\n          this.$emit('updatedEvent', updatedProfile)\n          this.loading = false\n          this.dialog = false\n        })\n        .catch((err) => {\n          this.errors.push(err)\n          this.loading = false\n        })\n    },\n\n    update () {\n      this.loading = true\n      this.editProfile()\n    },\n\n    showModal () {\n      this.dialog = true\n    },\n\n    closeModal () {\n      this.dialog = false\n    }\n  },\n\n  beforeMount () {\n    this.name = this.profile.name\n    this.url = this.profile.url\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}