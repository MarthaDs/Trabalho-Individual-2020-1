{"remainingRequest":"/home/Trabalho-Individual-2020-1/client/node_modules/babel-loader/lib/index.js!/home/Trabalho-Individual-2020-1/client/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/Trabalho-Individual-2020-1/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/Trabalho-Individual-2020-1/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/Trabalho-Individual-2020-1/client/src/components/DialogDelete.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/Trabalho-Individual-2020-1/client/src/components/DialogDelete.vue","mtime":1607820581600},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/cache-loader/dist/cjs.js","mtime":1606776316386},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/babel-loader/lib/index.js","mtime":1606776316365},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/vuetify-loader/lib/loader.js","mtime":1606776328537},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/cache-loader/dist/cjs.js","mtime":1606776316386},{"path":"/home/Trabalho-Individual-2020-1/client/node_modules/vue-loader/lib/index.js","mtime":1606776323398}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvVHJhYmFsaG8tSW5kaXZpZHVhbC0yMDIwLTEvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEZhY3RvcnkgZnJvbSAnQC9hcGkvZmFjdG9yeSc7CnZhciBQcm9maWxlQVBJID0gRmFjdG9yeS5nZXRBcGkoJ3Byb2ZpbGVzJyk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGlhbG9nRm9ybScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHByb2ZpbGU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlUHJvZmlsZTogZnVuY3Rpb24gZGVsZXRlUHJvZmlsZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gUHJvZmlsZUFQSS5kZWxldGVQcm9maWxlKF90aGlzLnByb2ZpbGUuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAvLyBwYXNzIGRlbGV0ZWQgcHJvZmlsZSBpbmZvIHRvIHBhcmVudAogICAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnZGVsZXRlZEV2ZW50Jyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaChlcnIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVBY3Rpb246IGZ1bmN0aW9uIGRlbGV0ZUFjdGlvbigpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5kZWxldGVQcm9maWxlKCk7CiAgICB9LAogICAgc2hvd01vZGFsOiBmdW5jdGlvbiBzaG93TW9kYWwoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["DialogDelete.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,OAAA,OAAA,MAAA,eAAA;AAEA,IAAA,UAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAWA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GAXA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,UAAA,CAAA,aAAA,CAAA,KAAA,CAAA,OAAA,CAAA,EAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA;AACA,kBAAA,KAAA,CAAA,KAAA,CAAA,cAAA;;AACA,kBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,kBAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA,iBANA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAAA;;AACA,kBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,iBAVA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,KAbA;AAeA,IAAA,YAfA,0BAeA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,aAAA;AACA,KAlBA;AAoBA,IAAA,SApBA,uBAoBA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KAtBA;AAwBA,IAAA,UAxBA,wBAwBA;AACA,WAAA,MAAA,GAAA,KAAA;AACA;AA1BA;AAlBA,CAAA","sourcesContent":["<template>\n  <div>\n    <v-btn\n      id=\"dialog-delete-open\"\n      icon\n      dense\n      color=\"error\"\n      @click.stop=\"showModal\"\n    >\n      <v-icon small>fas fa-times</v-icon>\n    </v-btn>\n\n    <v-dialog v-model=\"dialog\" max-width=\"350px\">\n      <v-card>\n        <v-card-title class=\"headline\">\n          Delete profile\n        </v-card-title>\n\n        <v-card-text>\n          <div\n            v-if=\"errors.length > 0\"\n          >\n            <v-alert\n              v-for=\"err in errors\"\n              :key=\"err.id\"\n              dense\n              dismissible\n              type=\"error\"\n            >\n              {{ err }}\n            </v-alert>\n          </div>\n\n          You're about to delete {{ profile.name + \"'s\" }} profile from this\n          application. Are you sure?\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n\n          <v-btn\n            id=\"dialog-delete-close\"\n            text\n            dense\n            color=\"blue-grey\"\n            @click=\"closeModal\">\n            cancel\n          </v-btn>\n\n          <v-btn\n            id=\"dialog-delete-delete\"\n            depressed\n            dense\n            color=\"error\"\n            :loading=\"loading\"\n            @click=\"deleteAction\"\n          >\n            <v-icon small left>fas fa-trash</v-icon> delete\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport Factory from '@/api/factory'\n\nconst ProfileAPI = Factory.getApi('profiles')\n\nexport default {\n  name: 'DialogForm',\n\n  data () {\n    return {\n      dialog: false,\n      loading: false,\n      errors: []\n    }\n  },\n\n  props: {\n    profile: {\n      type: Object,\n      required: true\n    }\n  },\n\n  methods: {\n    async deleteProfile () {\n      await ProfileAPI.deleteProfile(this.profile.id)\n        .then((res) => {\n          // pass deleted profile info to parent\n          this.$emit('deletedEvent')\n          this.loading = false\n          this.dialog = false\n        })\n        .catch((err) => {\n          this.errors.push(err)\n          this.loading = false\n        })\n    },\n\n    deleteAction () {\n      this.loading = true\n      this.deleteProfile()\n    },\n\n    showModal () {\n      this.dialog = true\n    },\n\n    closeModal () {\n      this.dialog = false\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}